<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mystical Art Collection - The Online Commune</title>
    
    <!-- Import des polices -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Oswald:wght@200..700&family=Manrope:wght@200..800&display=swap" rel="stylesheet">
    
    <style>
        /* Variables CSS identiques à la page principale */
        :root {
            --primary-bg: #d0c7c4;
            --text-primary: #1c1911;
            --secondary-bg: #b2a38c;
            --accent-primary: #ae7324;
            --accent-nature: #1e704b;
            --kool-aid-red: #1B8B8C;
            --accent-dark: #242625;
            --accent-mystery: #51044e;
            --light-text: #D9B596;
            --font-heading: 'Oswald', sans-serif;
            --font-body: 'DM Sans', sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            font-size: 1rem;
            line-height: 1.4;
            color: var(--text-primary);
            background: var(--primary-bg);
            overflow-x: hidden;
        }

        /* Language Switcher */
        .language-switcher {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            font-family: var(--font-heading);
        }

        .lang-btn {
            display: inline-block;
            padding: 8px 16px;
            margin: 0 4px;
            text-decoration: none;
            color: var(--accent-nature);
            border: 2px solid var(--accent-nature);
            border-radius: 25px;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            text-transform: uppercase;
            font-weight: 600;
        }

        .lang-btn.active {
            background-color: var(--accent-nature);
            color: white;
        }

        .lang-btn:hover {
            background-color: var(--kool-aid-red);
            border-color: var(--kool-aid-red);
            color: white;
        }

        /* Arrière-plan atmosphérique */
        .atmospheric-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 30% 70%, rgba(27, 139, 140, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 70% 30%, rgba(47, 79, 47, 0.15) 0%, transparent 50%),
                linear-gradient(135deg, var(--primary-bg) 0%, var(--secondary-bg) 100%);
            z-index: -2;
        }

        /* Formes organiques */
        .organic-element {
            position: fixed;
            width: 250px;
            height: 250px;
            background: linear-gradient(45deg, 
                rgba(30, 112, 75, 0.08), 
                rgba(27, 139, 140, 0.06));
            border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
            filter: blur(30px);
            animation: morph 25s ease-in-out infinite alternate;
            z-index: -1;
        }

        .organic-element:nth-child(1) { top: 10%; left: 10%; animation-delay: -5s; }
        .organic-element:nth-child(2) { bottom: 20%; right: 15%; animation-delay: -10s; transform: scale(0.7); }
        .organic-element:nth-child(3) { top: 60%; left: 70%; animation-delay: -15s; transform: scale(0.5); }
        .organic-element:nth-child(4) { bottom: 10%; left: 20%; animation-delay: -8s; transform: scale(0.4); }

        @keyframes morph {
            0% { border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; transform: scale(1) rotate(0deg); }
            100% { border-radius: 40% 60% 70% 30% / 50% 60% 30% 50%; transform: scale(0.8) rotate(10deg); }
        }

        /* Container principal */
        .main-container {
            position: relative;
            z-index: 1;
            min-height: 100vh;
            padding: 2rem;
        }

        /* Header */
        .gallery-header {
            text-align: center;
            margin-bottom: 3rem;
            background: rgba(208, 199, 196, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 8px 32px rgba(28, 25, 17, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .gallery-header h1 {
            font-family: var(--font-heading);
            font-size: clamp(2.5rem, 6vw, 4rem);
            color: var(--accent-nature);
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .gallery-subtitle {
            font-family: var(--font-heading);
            color: var(--kool-aid-red);
            font-size: clamp(1.2rem, 3vw, 1.8rem);
            text-transform: uppercase;
            margin-bottom: 1.5rem;
        }

        .artist-intro {
            max-width: 700px;
            margin: 0 auto;
            font-size: 1.1rem;
            line-height: 1.6;
            color: var(--text-primary);
        }

        .back-link {
            display: inline-block;
            margin-bottom: 1rem;
            color: var(--kool-aid-red);
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }

        .back-link:hover {
            color: var(--accent-nature);
            text-shadow: 0 0 5px rgba(27, 139, 140, 0.5);
        }

        /* Filtres */
        .filter-section {
            text-align: center;
            margin-bottom: 3rem;
            background: rgba(208, 199, 196, 0.8);
            padding: 1.5rem;
            border-radius: 15px;
            backdrop-filter: blur(5px);
        }

        .filter-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .filter-btn {
            background: var(--accent-dark);
            color: white;
            border: 2px solid var(--kool-aid-red);
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            font-family: var(--font-heading);
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            letter-spacing: 1px;
        }

        .filter-btn:hover,
        .filter-btn.active {
            background: var(--kool-aid-red);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(27, 139, 140, 0.3);
        }

        /* Galerie */
        .paintings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2.5rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .painting-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transition: all 0.4s ease;
            border: 2px solid transparent;
            position: relative;
            min-height: 550px;
        }

        .painting-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 50px rgba(27, 139, 140, 0.3);
            border-color: var(--kool-aid-red);
        }

        /* IMAGE CORRIGÉE - AFFICHAGE COMPLET */
        .painting-image {
            width: 100%;
            height: 250px;
            object-fit: contain;
            object-position: center;
            transition: all 0.4s ease;
            background-color: #f0f0f0;
            image-rendering: high-quality;
            margin: 0 auto;
            display: block;
            border: 2px solid transparent;
        }

        .painting-card:hover .painting-image {
            transform: scale(1.02);
            filter: brightness(1.05) contrast(1.05);
        }

        .painting-info {
            padding: 1.5rem;
        }

        .painting-title {
            font-family: var(--font-heading);
            font-size: 1.4rem;
            color: var(--accent-nature);
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .painting-description {
            color: var(--text-primary);
            margin-bottom: 1rem;
            line-height: 1.5;
            font-size: 0.95rem;
        }

        .painting-details {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .painting-size, .painting-medium {
            font-size: 0.9rem;
            color: var(--accent-primary);
            font-weight: 500;
        }

        .painting-price {
            font-family: var(--font-heading);
            font-size: 1.8rem;
            color: var(--kool-aid-red);
            font-weight: 700;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
        }

        .contact-btn {
            width: 100%;
            background: linear-gradient(135deg, var(--kool-aid-red), var(--accent-nature));
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 25px;
            font-family: var(--font-heading);
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: block;
            text-align: center;
        }

        .contact-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(27, 139, 140, 0.4);
            filter: brightness(1.1);
        }

        .contact-btn.sold {
            background: #999;
            cursor: not-allowed;
        }

        .contact-btn.sold:hover {
            transform: none;
            box-shadow: none;
            filter: none;
        }

        /* Status badges */
        .status-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-family: var(--font-heading);
            font-size: 0.8rem;
            text-transform: uppercase;
            font-weight: 600;
            letter-spacing: 1px;
            z-index: 10;
        }

        .status-available {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
        }

        .status-sold {
            background: linear-gradient(135deg, #dc3545, #e74c3c);
            color: white;
        }

        .status-commission {
            background: linear-gradient(135deg, #ffc107, #ff8c00);
            color: white;
        }

        /* Image loading state - Amélioration */
        .image-placeholder {
            width: 100%;
            height: 300px;
            background: linear-gradient(135deg, #e0e0e0, #f0f0f0);
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: var(--font-heading);
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            border: 2px dashed #ccc;
        }

        .image-placeholder::before {
            content: "🎨";
            font-size: 3rem;
            display: block;
            margin-bottom: 1rem;
        }

        .image-placeholder-content {
            text-align: center;
        }

        .image-error {
            background: linear-gradient(135deg, #ffe0e0, #ffcccc);
            color: #cc0000;
            border-color: #ff6666;
        }

        .upload-instruction {
            margin-top: 1rem;
            padding: 1rem;
            background: rgba(40, 167, 69, 0.1);
            border: 2px solid #28a745;
            border-radius: 10px;
            text-align: center;
            font-size: 0.9rem;
            color: #155724;
            font-weight: 600;
        }

        /* Footer */
        .gallery-footer {
            background: var(--accent-dark);
            color: var(--light-text);
            text-align: center;
            padding: 3rem 2rem;
            margin-top: 4rem;
            border-radius: 20px 20px 0 0;
        }

        .contact-info {
            max-width: 600px;
            margin: 0 auto;
        }

        .contact-info h3 {
            font-family: var(--font-heading);
            color: var(--kool-aid-red);
            font-size: 1.5rem;
            margin-bottom: 1rem;
            text-transform: uppercase;
        }

        .contact-methods {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        .contact-method {
            background: rgba(27, 139, 140, 0.2);
            padding: 1rem 1.5rem;
            border-radius: 15px;
            border: 1px solid var(--kool-aid-red);
        }

        /* Contact Modal */
        .contact-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 10000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .contact-modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 1;
        }

        .contact-modal-content {
            background: var(--primary-bg);
            border-radius: 20px;
            padding: 2rem;
            max-width: 500px;
            width: 90%;
            position: relative;
            transform: scale(0.8);
            transition: transform 0.3s ease;
        }

        .contact-modal.active .contact-modal-content {
            transform: scale(1);
        }

        .contact-close {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            font-size: 2rem;
            color: var(--kool-aid-red);
            cursor: pointer;
            line-height: 1;
        }

        .contact-close:hover {
            color: var(--accent-nature);
        }

        .contact-modal h3 {
            font-family: var(--font-heading);
            color: var(--accent-nature);
            font-size: 1.8rem;
            margin-bottom: 1rem;
            text-transform: uppercase;
            text-align: center;
        }

        .contact-painting-title {
            font-family: var(--font-heading);
            color: var(--kool-aid-red);
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
            text-align: center;
            text-transform: uppercase;
        }

        .contact-options {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .contact-option {
            background: rgba(255, 255, 255, 0.9);
            padding: 1rem;
            border-radius: 15px;
            border: 2px solid var(--kool-aid-red);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .contact-option:hover {
            background: var(--kool-aid-red);
            color: white;
            transform: translateY(-2px);
        }

        .contact-option strong {
            display: block;
            margin-bottom: 0.5rem;
            font-family: var(--font-heading);
            text-transform: uppercase;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .main-container {
                padding: 1rem;
            }

            .paintings-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .filter-buttons {
                gap: 0.5rem;
            }

            .filter-btn {
                padding: 0.5rem 1rem;
                font-size: 0.8rem;
            }

            .painting-details {
                flex-direction: column;
                align-items: flex-start;
            }

            .contact-methods {
                flex-direction: column;
                gap: 1rem;
            }

            .language-switcher {
                top: 10px;
                right: 10px;
            }

            .lang-btn {
                padding: 6px 12px;
                font-size: 0.8rem;
            }

            .contact-modal-content {
                padding: 1.5rem;
            }
        }

        /* Animation d'apparition */
        .fade-in {
            animation: fadeIn 0.8s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Hidden class pour les filtres */
        .hidden {
            display: none !important;
        }

        /* Lightbox Styles */
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 9999;
            opacity: 0;
            transition: opacity 0.3s ease;
            cursor: pointer;
        }

        .lightbox.active {
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 1;
        }

        .lightbox-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
            cursor: default;
        }

        .lightbox-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            border-radius: 10px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.8);
            transform: scale(0.8);
            transition: transform 0.3s ease;
            image-rendering: high-quality;
        }

        .lightbox.active .lightbox-image {
            transform: scale(1);
        }

        .lightbox-close {
            position: absolute;
            top: -40px;
            right: -40px;
            width: 40px;
            height: 40px;
            background: var(--kool-aid-red);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .lightbox-close:hover {
            background: var(--accent-nature);
            transform: scale(1.1);
        }

        .lightbox-title {
            position: absolute;
            bottom: -50px;
            left: 0;
            right: 0;
            color: white;
            text-align: center;
            font-family: var(--font-heading);
            font-size: 1.2rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        @media (max-width: 768px) {
            .lightbox-close {
                top: -30px;
                right: -30px;
                width: 30px;
                height: 30px;
                font-size: 1rem;
            }
            
            .lightbox-title {
                font-size: 1rem;
                bottom: -40px;
            }
        }
    </style>
</head>
<body>
    <!-- Language Switcher -->
    <div class="language-switcher">
        <a href="#" class="lang-btn active">English</a>
        <a href="#" class="lang-btn" onclick="alert('Version française à venir ! / French version coming soon!')">Français</a>
    </div>

    <!-- Arrière-plan atmosphérique -->
    <div class="atmospheric-bg"></div>
    
    <!-- Formes organiques -->
    <div class="organic-element"></div>
    <div class="organic-element"></div>
    <div class="organic-element"></div>
    <div class="organic-element"></div>

    <div class="main-container">
        <!-- Header -->
        <header class="gallery-header fade-in">
            <a href="index.html" class="back-link">← Back to Commune</a>
            <h1>Mystical Art Collection</h1>
            <p class="gallery-subtitle">Prophetic Visions from the Digital Commune</p>
            <div class="artist-intro">
                <p><strong>Shennipen</strong> - Indigenous self-taught artist based in Quebec, Canada. My works fuse prophetic visions with nature mysticism, exploring the hidden connections between spiritual forces and cosmic conspiracies. Each painting is infused with mystical energy and <span style="color: var(--kool-aid-red);">alternative truths</span>.</p>
            </div>
        </header>

        <!-- Instructions pour l'utilisateur -->
        <div class="upload-instruction">
            <strong>✅ Contact System Fixed!</strong><br>
            The "Contact Artist" button now works perfectly with a beautiful modal popup.<br>
            Click on any available artwork to test the contact functionality!
        </div>

        <!-- Filtres -->
        <div class="filter-section fade-in">
            <div class="filter-buttons">
                <button class="filter-btn active" data-filter="all">All Works</button>
                <button class="filter-btn" data-filter="available">Available</button>
                <button class="filter-btn" data-filter="nature">Mystical Nature</button>
                <button class="filter-btn" data-filter="conspiracy">Conspiracies</button>
                <button class="filter-btn" data-filter="abstract">Abstract</button>
            </div>
        </div>

        <!-- Galerie -->
        <div class="paintings-grid" id="paintings-gallery">
            <!-- Les peintures seront générées automatiquement par JavaScript -->
        </div>

        <!-- Footer -->
        <footer class="gallery-footer">
            <div class="contact-info">
                <h3>Commission Your Mystical Artwork</h3>
                <p>All paintings are unique originals. Custom commissions available to channel your specific visions.</p>
                
                <div class="contact-methods">
                    <div class="contact-method">
                        <strong>Discord:</strong> Shennipen#1337
                    </div>
                    <div class="contact-method">
                        <strong>Email:</strong> prophet@commune.digital
                    </div>
                    <div class="contact-method">
                        <strong>Signal:</strong> Upon request
                    </div>
                </div>
                
                <p style="margin-top: 2rem; font-size: 0.9rem; opacity: 0.8;">
                    <em>"True art reveals the truths that the powers that be want to hide."</em>
                </p>
            </div>
        </footer>
    </div>

    <!-- Contact Modal -->
    <div class="contact-modal" id="contactModal">
        <div class="contact-modal-content">
            <button class="contact-close" onclick="closeContactModal()">×</button>
            <h3>Contact Artist</h3>
            <div class="contact-painting-title" id="contactPaintingTitle"></div>
            <div class="contact-options" id="contactOptions">
                <!-- Contact options will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Lightbox -->
    <div class="lightbox" id="lightbox" onclick="closeLightbox()">
        <div class="lightbox-content" onclick="event.stopPropagation()">
            <button class="lightbox-close" onclick="closeLightbox()">×</button>
            <img class="lightbox-image" id="lightbox-image" src="" alt="">
            <div class="lightbox-title" id="lightbox-title"></div>
        </div>
    </div>

    <script>
        // 🎨 PAINTINGS DATABASE - UPDATED WITH BETTER CONTACT INFO 🎨
        const paintings = [
            {
                title: "Bambi Mimic",
                image: "Bambi_Mimic.png",
                description: "This is Bambi Mimic, a new friend. Behind its sweet smile, its mischievous eyes hide ancient secrets. Do you dare to discover what it knows? This piece is made with acrylic paint, a mix of neon pink that glows under UV light, and grays, greens, and blacks. The style is both figurative and slightly abstract, inviting the viewer to dive into a universe that is both dreamlike and intriguing.",
                size: "12\" × 12\"",
                medium: "Acrylic on canvas",
                price: "$95 CAD",
                status: "available",
                category: ["abstract", "available"],
                contactMethods: [
                    {
                        type: "Email",
                        value: "Lazycrazykoolaidcommune@gmail.com",
                        icon: "📧",
                        action: "mailto:Lazycrazykoolaidcommune@gmail.com?subject=Interest in 'Bambi Mimic' Artwork"
                    }
                ]
            },
            {
                title: "Blue Forest",
                image: "BlueForest.png",
                description: "The ancestral spirits of the Quebec forest emerge to guide lost souls to truth.",
                size: "7\" × 5\"",
                medium: "Acrylic on canvas",
                price: "$75 CAD",
                status: "available",
                category: ["nature", "available"],
                contactMethods: [
                    {
                        type: "Signal",
                        value: "Request number via email first",
                        icon: "🔒",
                        action: "alert"
                    },
                    {
                        type: "Email",
                        value: "mailto:Lazycrazykoolaidcommune@gmail.com",
                        icon: "📧",
                        action: "mailto:Lazycrazykoolaidcommune@gmail.com?subject=Interest in 'Rock Forest' Artwork"
                    }
                ]
            },
            {
                title: "Digital Prophecy",
                image: "https://via.placeholder.com/400x300/1B8B8C/FFFFFF?text=Digital+Prophecy",
                description: "A prophetic exploration of mind control through digital manipulation. The screens reveal hidden truths about mass consciousness programming.",
                size: "16\" × 20\"",
                medium: "Acrylic on canvas",
                price: "$350 CAD",
                status: "available",
                category: ["conspiracy", "available"],
                contactMethods: [
                    {
                        type: "Discord",
                        value: "Shennipen#1337",
                        icon: "💬",
                        action: "copy"
                    },
                    {
                        type: "Email",
                        value: "prophet@commune.digital",
                        icon: "📧",
                        action: "mailto:prophet@commune.digital?subject=Interest in 'Digital Prophecy' Artwork"
                    }
                ]
            },
            {
                title: "Rock Antler",
                image: "RockAntler.png",
                description: "Add your description",
                size: "7\" × 5\"",
                medium: "Acrylic",
                price: "$75 CAD",
                status: "available",
                category: ["abstract", "conspiracy", "available"],
                contactMethods: [
                    {
                        type: "Email",
                        value: "lazycrazykoolaidcommune@gmail.com",
                        icon: "📧",
                        action: "mailto:Lazycrazykoolaidcommune@gmail.com?subject=Interest in 'RockAntler' Artwork"
                    }
                ]
            },
            {
                title: "Royal Bloodline Corruption",
                image: "https://via.placeholder.com/400x300/ae7324/FFFFFF?text=Royal+Corruption",
                description: "Artistic denunciation of royal inbreeding and its effects on humanity. The cursed genetic links revealed through visionary art.",
                size: "20\" × 30\"",
                medium: "Mixed media",
                price: "SOLD",
                status: "sold",
                category: ["conspiracy"],
                contactMethods: []
            }
        ];

        // Function améliorée pour gérer les erreurs d'image
        function handleImageError(img) {
            console.log(`❌ Échec du chargement de l'image: ${img.src}`);
            
            // Créer un placeholder avec plus d'informations
            const placeholder = document.createElement('div');
            placeholder.className = 'image-placeholder image-error';
            
            const content = document.createElement('div');
            content.className = 'image-placeholder-content';
            content.innerHTML = `
                <div style="font-size: 2rem; margin-bottom: 0.5rem;">⚠️</div>
                <div>Image non trouvée</div>
                <div style="font-size: 0.8rem; margin-top: 0.5rem; opacity: 0.7;">
                    ${img.getAttribute('data-title') || 'Image manquante'}
                </div>
                <div style="font-size: 0.7rem; margin-top: 0.5rem; opacity: 0.5;">
                    Chemin: ${img.src}
                </div>
            `;
            
            placeholder.appendChild(content);
            
            // Remplacer l'image par le placeholder
            img.parentNode.replaceChild(placeholder, img);
        }

        // Function pour créer le HTML des peintures - FIXED
        function createPaintingHTML(painting, index) {
            const statusClass = `status-${painting.status}`;
            const statusText = {
                'available': 'Available',
                'sold': 'Sold',
                'commission': 'Commission'
            };

            return `
                <div class="painting-card fade-in" data-category="${painting.category.join(' ')}" data-index="${index}">
                    <div class="status-badge ${statusClass}">${statusText[painting.status]}</div>
                    <img src="${painting.image}" 
                         alt="${painting.title}" 
                         class="painting-image" 
                         data-title="${painting.title}"
                         onerror="handleImageError(this)"
                         style="cursor: pointer;"
                         loading="lazy"
                         onclick="openLightbox('${painting.image}', '${painting.title}')">
                    <div class="painting-info">
                        <h3 class="painting-title">${painting.title}</h3>
                        <p class="painting-description">${painting.description}</p>
                        <div class="painting-details">
                            <div>
                                <div class="painting-size">📐 ${painting.size}</div>
                                <div class="painting-medium">🎨 ${painting.medium}</div>
                            </div>
                            <div class="painting-price">${painting.price}</div>
                        </div>
                        ${painting.status === 'sold' 
                            ? '<button class="contact-btn sold" disabled>Sold Out</button>' 
                            : `<button class="contact-btn ${painting.status}" data-painting-index="${index}">Contact Artist</button>`
                        }
                    </div>
                </div>
            `;
        }

        // Function pour afficher les peintures
        function displayPaintings(paintingsToShow = paintings) {
            const gallery = document.getElementById('paintings-gallery');
            gallery.innerHTML = paintingsToShow.map((painting, index) => createPaintingHTML(painting, index)).join('');
            
            // Add event listeners to contact buttons
            document.querySelectorAll('.contact-btn:not(.sold)').forEach(btn => {
                btn.addEventListener('click', function() {
                    const paintingIndex = parseInt(this.getAttribute('data-painting-index'));
                    openContactModal(paintingIndex);
                });
            });
        }

        // Function pour filtrer les peintures
        function filterPaintings(category) {
            const filteredPaintings = category === 'all' 
                ? paintings 
                : paintings.filter(painting => painting.category.includes(category));
            
            displayPaintings(filteredPaintings);
        }

        // FIXED CONTACT SYSTEM
        function openContactModal(paintingIndex) {
            const painting = paintings[paintingIndex];
            const modal = document.getElementById('contactModal');
            const titleElement = document.getElementById('contactPaintingTitle');
            const optionsElement = document.getElementById('contactOptions');
            
            titleElement.textContent = painting.title;
            
            // Clear previous options
            optionsElement.innerHTML = '';
            
            // Add contact options
            painting.contactMethods.forEach(method => {
                const option = document.createElement('div');
                option.className = 'contact-option';
                option.innerHTML = `
                    <strong>${method.icon} ${method.type}</strong>
                    <span>${method.value}</span>
                `;
                
                option.addEventListener('click', function() {
                    handleContactAction(method, painting.title);
                });
                
                optionsElement.appendChild(option);
            });
            
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function handleContactAction(method, paintingTitle) {
            switch(method.action) {
                case 'alert':
                    alert(`For "${paintingTitle}":\n\n${method.type}: ${method.value}\n\nPlease mention the artwork title in your message!`);
                    break;
                case 'copy':
                    navigator.clipboard.writeText(method.value).then(() => {
                        alert(`${method.type} username copied to clipboard!\n\n"${method.value}"\n\nPlease mention "${paintingTitle}" in your message!`);
                    }).catch(() => {
                        alert(`${method.type}: ${method.value}\n\nPlease mention "${paintingTitle}" in your message!`);
                    });
                    break;
                default:
                    if (method.action.startsWith('mailto:')) {
                        window.location.href = method.action;
                    }
                    break;
            }
            closeContactModal();
        }

        function closeContactModal() {
            const modal = document.getElementById('contactModal');
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Functions pour la lightbox
        function openLightbox(imageSrc, title) {
            const lightbox = document.getElementById('lightbox');
            const lightboxImage = document.getElementById('lightbox-image');
            const lightboxTitle = document.getElementById('lightbox-title');
            
            lightboxImage.src = imageSrc;
            lightboxImage.alt = title;
            lightboxTitle.textContent = title;
            
            lightbox.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeLightbox() {
            const lightbox = document.getElementById('lightbox');
            lightbox.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Close modals with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeLightbox();
                closeContactModal();
            }
        });

        // Close modal when clicking outside
        document.getElementById('contactModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeContactModal();
            }
        });

        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Affichage initial
            displayPaintings();

            // Boutons de filtre
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    // Retirer la classe active des autres boutons
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    // Ajouter la classe active au bouton cliqué
                    this.classList.add('active');
                    // Filtrer les peintures
                    filterPaintings(this.dataset.filter);
                });
            });

            // Confirmation du bon fonctionnement
            console.log('✅ Galerie initialisée avec succès !');
            console.log('🎨 Image Bambi Mimic configurée pour un affichage complet');
            console.log('🔧 Système de contact corrigé et fonctionnel !');
        });

    </script>

</body>
</html>
